<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8;charset=utf-8">
<script type="text/javascript" src="lib/vendor/jquery.js"></script>
<script type="text/javascript" src="lib/vendor/vis4.js"></script>
<script type="text/javascript" src="lib/vendor/raphael.js"></script>
<script type="text/javascript" src="lib/vendor/jquery.history.js"></script>
<script type="text/javascript" src="lib/vendor/Tween.js"></script>
<script type="text/javascript" src="lib/vendor/jquery.tooltip.js"></script>
<script type="text/javascript" src="lib/vendor/bubbletree/2.0/bubbletree.js"></script>
<style type="text/css">
.bubbletree .label { font-family:RobotoRegular,Arial;position:absolute;color:#fff;text-align:center;cursor:default; }
.bubbletree .amount { font-family:RobotoBoldCondensed,RobotoCondensed,Arial,Georgia,sans-serif;font-size:16px; }
.bubbletree .desc {   font-family:RobotoCondensed,Arial,sans-serif;font-size:11px;}

.bubbletree .label2 {   position:absolute;color:#000;text-align:center;cursor:default;font-size: 11px;  font-family: sans-serif;  margin-top:5px;}
</style>
</head>
<body>
<div id="bubbletree" class="bubbletree" style="width: 80%; height: 500px">
</div>
<script type="text/javascript">
var onNodeClick = function(node) {
alert(node);
};
var btype = 'icon';
//var data = {label:"hello_bubble"};
// http://kommune.politiken.dk/data/budget530.json
var data = {

    "id": "root",
    "label": "One",
    "color": "#C0B88A",
    "amount": 10000,
    "children": [
        {
            "id": "beta",
            "label": "Two",
            "color": "#428D79",
            "amount": 10000,
            "children": [
                {
                    "id": "gamma",
                    "label": "Three",
                    "color": "#62AD99",
                    "amount": 9809,
                    "children": [ ],
                    "taxonomy": "style1",
                    "icon": "ambulance.svg"
                },
                {
                    "id": "0-58-95",
                    "breakdowns": [ ],
                    "label": "Four",
                    "color": "#72BDA9",
                    "amount": 9809,
                    "children": [ ],
                    "taxonomy": "style1",
                    "icon": "ambulance.svg"
                }
            ],
            "taxonomy": "style1",
            "icon": "ambulance.svg"
        } ],
    "taxonomy": "style1",
    "name": "style1",
    "icon": "housing.svg"
};

var getTooltip = function() {
  return this.getAttribute('tooltip');
};
var initTooltip = function(node, domnode) {
  domnode.setAttribute('tooltip', node.label+' &nbsp;<br /><big><b>'+node.famount+' kr.</b></big>');
  $(domnode).tooltip({ delay: 10, bodyHandler: getTooltip });
};
window.bubbleTree = new BubbleTree({
        data: data,
        container: '#bubbletree',
        bubbleType: btype, 
        //nodeClickCallback: onNodeClick,
        initTooltip: initTooltip,
        //rootPath: 'gfx/'
      });
</script>
</body>
</html>
